<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HydroReminder - ‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥</title>
  <link href="https://fonts.googleapis.com/css2?family=Sarabun&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    body {
      font-family: 'Sarabun', sans-serif;
      margin: 0;
      background: linear-gradient(135deg, #89f7fe, #66a6ff);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      color: #fff;
    }
    header {
      font-size: 2em;
      margin-bottom: 20px;
      font-weight: bold;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
    }
    .card {
      backdrop-filter: blur(15px);
      background: rgba(255, 255, 255, 0.15);
      border-radius: 20px;
      padding: 25px;
      width: 90%;
      max-width: 400px;
      margin: 10px 0;
      box-shadow: 0 8px 32px rgba(0,0,0,0.2);
    }
    .card h3 {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 10px;
    }
    input, button {
      font-size: 1em;
      padding: 10px;
      margin: 5px 0;
      width: 100%;
      border-radius: 12px;
      border: none;
      outline: none;
    }
    input {
      background: rgba(255,255,255,0.8);
      color: #333;
    }
    button {
      background: linear-gradient(45deg, #00c6ff, #0072ff);
      color: white;
      cursor: pointer;
      font-weight: bold;
      transition: transform 0.2s ease-in-out;
    }
    button:hover {
      transform: scale(1.05);
    }
    .drink-btn {
      font-size: 1.2em;
      background: linear-gradient(45deg, #4facfe, #00f2fe);
    }
    .progress {
      background: rgba(255,255,255,0.3);
      border-radius: 20px;
      overflow: hidden;
      margin: 15px 0;
    }
    .progress-bar {
      height: 20px;
      width: 0%;
      background: linear-gradient(90deg, #43e97b, #38f9d7);
      border-radius: 20px;
      transition: width 0.5s;
    }
    footer {
      margin-top: 20px;
      font-size: 0.8em;
      opacity: 0.9;
    }
  </style>
</head>
<body>
  <header>üíß HydroReminder</header>
  
  <div class="card">
    <h3><i class="bi bi-calculator"></i> ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏ô‡πâ‡∏≥‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡∏î‡∏∑‡πà‡∏°</h3>
    <input type="number" id="weight" placeholder="‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å (‡∏Å‡∏Å.)">
    <button onclick="calculateTarget()">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</button>
    <div id="target"></div>
  </div>

  <div class="card">
    <h3><i class="bi bi-cup-straw"></i> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥</h3>
    <button class="drink-btn" onclick="drinkWater()">ü•§ ‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥‡πÅ‡∏•‡πâ‡∏ß (250 ml)</button>
    <div class="progress">
      <div class="progress-bar" id="progressBar"></div>
    </div>
    <div id="total"></div>
    <div id="lastTime"></div>
  </div>

  <div class="card">
    <h3><i class="bi bi-alarm"></i> ‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</h3>
    <input type="number" id="interval" value="120" placeholder="‡∏ô‡∏≤‡∏ó‡∏µ">
    <button onclick="startReminder()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</button>
  </div>

  <div class="card">
    <h3><i class="bi bi-bar-chart-line"></i> ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥</h3>
    <a href="stats.html"><button>üìä ‡∏î‡∏π‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥</button></a>
  </div>

  <footer>
    ¬© 2025 HydroReminder | ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏û‡∏±‡∏í‡∏ô‡∏≤
  </footer>

  <script>
    let total = 0;
    let target = 2000;
    let intervalId = null;

    function calculateTarget() {
      const weight = document.getElementById('weight').value;
      if (weight > 0) {
        target = weight * 30;
        document.getElementById('target').innerText = `‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏ß‡∏£‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì ${target} ‡∏°‡∏•./‡∏ß‡∏±‡∏ô`;
        updateProgress();
      } else {
        document.getElementById('target').innerText = '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á';
      }
    }

    function drinkWater() {
      total += 250;
      const now = new Date().toLocaleTimeString();
      document.getElementById('total').innerText = `‡∏î‡∏∑‡πà‡∏°‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ: ${total} ‡∏°‡∏•.`;
      document.getElementById('lastTime').innerText = `‡πÄ‡∏ß‡∏•‡∏≤‡∏î‡∏∑‡πà‡∏°‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: ${now}`;
      updateProgress();

      localStorage.setItem("todayTotal", total);
      localStorage.setItem("lastDrink", now);

      const today = new Date().toLocaleDateString();
      let history = JSON.parse(localStorage.getItem("history")) || {};
      history[today] = total;
      localStorage.setItem("history", JSON.stringify(history));
    }

    function updateProgress() {
      const percent = Math.min((total / target) * 100, 100);
      document.getElementById('progressBar').style.width = percent + "%";
    }

    function loadSavedData() {
      const savedTotal = localStorage.getItem("todayTotal");
      const lastDrink = localStorage.getItem("lastDrink");
      if (savedTotal) {
        total = parseInt(savedTotal);
        document.getElementById('total').innerText = `‡∏î‡∏∑‡πà‡∏°‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ: ${total} ‡∏°‡∏•.`;
        updateProgress();
      }
      if (lastDrink) {
        document.getElementById('lastTime').innerText = `‡πÄ‡∏ß‡∏•‡∏≤‡∏î‡∏∑‡πà‡∏°‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: ${lastDrink}`;
      }
    }

    function startReminder() {
      const mins = parseInt(document.getElementById('interval').value);
      if (intervalId) clearInterval(intervalId);
      intervalId = setInterval(() => {
        alert('‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏ô‡∏∞! üíß');
      }, mins * 60000);
    }

    window.onload = loadSavedData;
  </script>
</body>
</html>
